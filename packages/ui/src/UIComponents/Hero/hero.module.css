/* Consolidated, cleaned Hero styles */

/* Base - mobile-first */
.hero {
  display: flex;
  flex-direction: column;
  gap: var(--yuanhhou-spacing-300, 24px);
  width: 100%;
  box-sizing: border-box;
  position: relative;
  z-index: 10;
  padding-block: var(--yuanhhou-spacing-500, 40px);
  padding-inline: var(--yuanhhou-spacing-400, 32px);
  border-radius: var(--radius-medium);
  background: var(--background-secondary);
}

.hero.brand {
  background: var(--background-brand-secondary, var(--background-secondary));
  color: var(--foreground-brand-on-secondary, var(--foreground-primary));
}

/* Ensure heading in brand variant uses on-primary token (higher contrast on brand background) */
.hero.brand .title {
  color: var(--foreground-brand-on-secondary, var(--foreground-primary));
}

.text { flex: 0 0 auto; }

.title {
  font-size: var(--yuanhhou-heading-lg-font-size);
  line-height: var(--yuanhhou-heading-lg-line-height);
  font-weight: var(--yuanhhou-heading-lg-font-weight);
  letter-spacing: var(--yuanhhou-heading-lg-letter-spacing);
  color: var(--foreground-primary);
  margin: 0 0 var(--yuanhhou-spacing-300, 24px) 0;
}

.subtitle { font-size: var(--yuanhhou-heading-sm-font-size); color: var(--foreground-secondary); }

.actions { margin-top: var(--yuanhhou-spacing-500, 40px); }

/* Media & image - common rules */
.media { display: flex; align-items: center; justify-content: center; }

.image {
  display: block;
  width: 100%;
  height: auto;
  max-width: 100%;
  border-radius: var(--radius-medium);
  box-shadow: none;
  object-fit: contain;
  object-position: center bottom;
  max-height: 400px; /* sensible mobile default to avoid clipping */
}

.placeholder { width: 100%; max-width: 480px; height: 220px; background: var(--background-secondary); border-radius: var(--radius-medium); }

/* Tablet (600 - 899px) */
@media (min-width: 600px) and (max-width: 899px) {
  .image { max-height: 400px; object-position: center center; }
  .media { overflow: visible; }
}

/* Desktop (>= 900px) - two-column layout */
@media (min-width: 900px) {
  .hero { flex-direction: row; align-items: center; justify-content: space-between; min-height: 520px; padding-inline: 48px; }
  .text { flex: 0 1 38%; }
  .media { flex: 0 1 58%; height: 100%; overflow: hidden; border-radius: calc(var(--radius-medium) - 2px); padding: 0; display: flex; align-items: flex-end; justify-content: flex-end; }
  .image { max-height: 100%; width: auto; object-position: right bottom; }
}

/* Small screens adjustments */
@media (max-width: 599px) {
  .hero { padding-block-start: var(--yuanhhou-spacing-300, 24px); padding-block-end: var(--yuanhhou-spacing-500, 40px); padding-inline: var(--yuanhhou-spacing-200, 16px); }
  .media { width: 100%; overflow: visible; }
  .image { max-height: 400px; object-position: center bottom; }
}

/* For viewports 900px and below: place media above text */
@media (max-width: 900px) {
  .hero { flex-direction: column; }
  .media { order: -1; width: 100%; justify-content: flex-start; }
  .text { order: 0; text-align: left; }
  .title { text-align: left; }
  .subtitle { text-align: left; }
  .actions { text-align: left; }
  .image { object-position: center top; }
}

/* Brand variant rounding */
.hero.productB { border-radius: var(--radius-large, 24px); }
.hero.productB .media { border-radius: calc(var(--radius-large, 24px) - 4px); }

/* Circle variant */
.circle { width: 220px; height: 220px; border-radius: 50%; overflow: hidden; position: relative; display: inline-block; box-shadow: none; background: transparent; }
.circleImage { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; object-position: center center; }

/* ========================================
   Decorated variant - Mobile first (< 600px)
   Proportional scaling like desktop
   ======================================== */
.decoratedContainer {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  /* Scaled proportionally: desktop is 420x480, mobile ~50% */
  width: 210px;
  min-height: 270px;
}

.imageWrapper {
  position: relative;
  z-index: 1;
  display: flex;
  align-items: center;
  justify-content: center;
}

.decoratedImage {
  display: block;
  width: auto;
  /* Scaled proportionally: desktop is 400x515, mobile ~50% */
  max-width: 200px;
  max-height: 258px;
  height: auto;
  object-fit: contain;
  object-position: center bottom;
  position: relative;
  z-index: 2;
}

/* Overlay effect - subtle silhouette behind image */
.imageOverlay {
  position: absolute;
  inset: 0;
  background: var(--foreground-brand-primary, #0070be);
  opacity: 0.08;
  filter: blur(20px);
  transform: scale(1.1);
  z-index: 0;
  border-radius: 50%;
}

/* Staircase squares base styles */
.staircaseTopLeft,
.staircaseBottomRight {
  position: absolute;
  display: flex;
  flex-direction: column;
  gap: var(--yuanhhou-spacing-50, 4px); /* vertical gap between rows */
  z-index: 0;
}

.staircaseTopLeft {
  top: 0;
  left: 0;
}

.staircaseBottomRight {
  bottom: 0;
  right: 0;
  align-items: flex-end;
  z-index: 3; /* On top of image */
}

.squareRow {
  display: flex;
  gap: var(--yuanhhou-spacing-50, 4px); /* horizontal gap between squares */
}

.staircaseBottomRight .squareRow {
  justify-content: flex-end;
}

/* Square - uses theme token for multi-theme support */
.square {
  width: 20px;
  height: 20px;
  background-color: var(--foreground-brand-primary, #0070be);
  flex-shrink: 0;
  transform-origin: center center;
}

/* Shake animation while scrolling */
.animateSquares .square {
  /* Stronger shake while scrolling: faster and higher amplitude */
  animation: squareShake 0.18s ease-in-out infinite;
}

@keyframes squareShake {
  0%, 100% { transform: rotate(0deg) translateY(0); }
  25% { transform: rotate(-3deg) translateY(-3px); }
  75% { transform: rotate(3deg) translateY(3px); }
}

/* Tablet (600px - 899px) - proportional scaling ~70% of desktop */
@media (min-width: 600px) and (max-width: 899px) {
  .decoratedContainer {
    width: 294px;
    min-height: 378px;
  }

  .decoratedImage {
    max-width: 280px;
    max-height: 360px;
  }

  .square {
    width: 28px;
    height: 28px;
  }

  .imageOverlay {
    filter: blur(25px);
  }
}

/* Desktop (900px+) - full size */
@media (min-width: 900px) {
  .decoratedContainer {
    width: 420px;
    min-height: 520px;
  }

  .decoratedImage {
    max-width: 400px;
    max-height: 515px;
  }

  .square {
    width: 40px;
    height: 40px;
  }

  .imageOverlay {
    filter: blur(30px);
    transform: scale(1.15);
  }
}

/* Global fallbacks for generated classnames */
:global(._hero_tceyh_2), :global([class*="_hero_"]) { padding-bottom: var(--yuanhhou-spacing-500, 40px); }

/* Accessibility: ensure interactive elements inside hero have visible focus styles */
.actions :where(a, button) {
  outline: none;
}
.actions :where(a, button):focus-visible {
  box-shadow: 0 0 0 3px var(--focus-ring, rgba(59,130,246,0.45));
  border-radius: 8px;
  outline: none;
}
